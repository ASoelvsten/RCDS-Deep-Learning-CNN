import matplotlib.pyplot as plt

def plot_crossword(grid, numbers_grid, hide_letters=False, save_to_file=False, filename="crossword_plot.png"):
    fig, ax = plt.subplots(figsize=(10,10*20/25))

    for i, row in enumerate(grid):
        for j, cell in enumerate(row):
            if cell == '!':
                ax.add_patch(plt.Rectangle((j, -i-1), 1, 1, fill=True, color='black', edgecolor='black'))
            elif cell.isalpha():
                rect = plt.Rectangle((j, -i-1), 1, 1, fill=True, edgecolor='black', facecolor='white', linewidth=1)
                ax.add_patch(rect)
                if hide_letters:
                    cl = "white"
                else:
                    cl = "black"
                ax.text(j + 0.5, -i - 0.5, cell, size=12, ha='center', va='center', color=cl)
                
                # Check if it's the beginning of a word and add a number if present in numbers_grid
                if numbers_grid[i][j]:
                    ax.text(j + 0.1, -i - 0.1, str(numbers_grid[i][j]), size=9, ha='left', va='top', color='black')
            else:
                ax.add_patch(plt.Rectangle((j, -i-1), 1, 1, fill=True, color='black', edgecolor='black'))

    ax.set_xlim(0, len(grid[0]))
    ax.set_ylim(-len(grid), 0)
    ax.axis('off')  # Turn off axis

    if save_to_file:
        plt.savefig(filename, bbox_inches='tight', pad_inches=0.1)
    else:
        plt.show()

# Example grid (replace it with your actual crossword layout)
crossword_grid = [
['!','!','!','R','!','!','U','!','!','!','!','!','!','!','!','!','!','!','!','!','!','!','!','!','!'],
['F','I','N','E','T','U','N','I','N','G','!','!','!','S','!','!','B','!','!','!','!','!','!','!','!'],
['!','!','!','G','!','!','S','!','!','!','!','!','!','U','!','!','I','!','!','!','!','!','!','!','!'],
['!','!','!','U','!','!','U','!','H','Y','P','E','R','P','A','R','A','M','E','T','E','R','!','!','!'],
['!','!','!','L','!','!','P','!','!','!','!','!','!','E','!','!','S','!','!','!','!','!','!','!','!'],
['!','!','!','A','!','!','E','!','P','!','!','!','!','R','!','!','!','!','!','!','!','!','!','!','!'],
['!','!','!','R','!','!','R','!','E','!','!','!','!','V','!','!','!','!','!','P','!','!','!','!','!'],
['!','!','!','I','!','O','V','E','R','F','I','T','T','I','N','G','!','!','L','O','S','S','!','!','A'],
['!','!','!','S','!','!','I','!','C','!','!','!','!','S','!','!','C','!','!','O','!','!','P','!','U'],
['!','!','!','A','!','!','S','!','E','!','!','!','T','E','N','S','O','R','!','L','!','!','A','!','G'],
['!','!','!','T','!','!','E','!','P','!','!','F','!','D','!','!','N','!','!','I','!','!','D','!','M'],
['!','!','!','I','!','!','D','!','T','!','!','E','!','!','!','!','V','!','!','N','!','!','D','!','E'],
['!','!','!','O','!','!','!','!','R','!','B','A','C','K','P','R','O','P','A','G','A','T','I','O','N'],
['!','!','!','N','!','!','!','!','O','!','!','T','!','!','!','!','L','!','!','!','!','!','N','!','T'],
['!','!','!','!','!','!','!','!','N','!','!','U','!','R','E','L','U','!','!','!','!','!','G','!','A'],
['!','!','!','!','!','!','!','!','!','!','!','R','!','!','!','!','T','!','E','!','!','!','!','!','T'],
['!','!','!','!','!','!','!','!','!','!','!','E','!','!','!','!','I','!','P','!','!','!','!','!','I'],
['!','!','!','!','!','!','!','!','!','!','!','S','!','!','D','R','O','P','O','U','T','!','!','!','O'],
['!','!','!','!','!','!','!','!','!','!','!','!','!','!','!','!','N','!','C','!','!','!','!','!','N'],
['!','!','!','!','!','!','!','!','!','!','!','!','!','!','!','!','!','!','H','!','!','!','!','!','!'],
]

# Numbers grid (0 for no number, specify numbers as needed)
numbers_grid = [
[0,0,0,1,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[3,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,5,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0],
[0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,11],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,13,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,17,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,19,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
]

# Plot the crossword with letters visible
plot_crossword(crossword_grid, numbers_grid, hide_letters=False, save_to_file=True, filename="crossword_filled.png")

# Plot the crossword without letters (only numbers)
plot_crossword(crossword_grid, numbers_grid, hide_letters=True, save_to_file=True, filename="crossword_empty.png")
